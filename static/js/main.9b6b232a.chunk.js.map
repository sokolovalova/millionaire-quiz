{"version":3,"sources":["utils/storage.ts","components/Quiz/constants.ts","components/App/routes.tsx","components/Quiz/Quiz.tsx","components/Results/Results.tsx","components/Start/Start.tsx","components/App/App.tsx","index.tsx"],"names":["KEYS_STORAGE","setToSessionStorage","key","data","a","window","sessionStorage","setItem","getSessionStorage","getItem","CLASSES","URL_ROUTES","Quiz","state","quizData","numberOfQuestion","price","letter","mistakes","answerClass","showPriceList","renderPriceListForMob","console","log","isShow","setState","initialAnswerClass","this","answers","forEach","el","push","INACTIVE","getInitialAnswerClass","fetch","then","resp","json","props","length","goToResult","event","activeClass","newClass","classList","remove","add","trueAnswer","CORRECT","e","target","replaceClass","SELECTED","true","getAnswerClassWithTrueAnswer","setTimeout","PROFIT","nextQuestion","WRONG","wonPrice","Number","classname","indexOf","className","question","map","ans","i","id","onClick","mark","falseAnswer","text","fetchQuizData","setQuizDataToState","renderQuestion","checkActivePrice","React","Results","src","alt","to","START","Start","QUIZ","ROUTES","path","render","title","exact","RESULTS","isProtected","App","renderRoute","oneRoute","ReactDOM","document","querySelector"],"mappings":"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","file":"static/js/main.9b6b232a.chunk.js","sourcesContent":["export const setToSessionStorage = async (key:string, data:any)=>{\r\n    window.sessionStorage.setItem(key, data);\r\n};\r\n\r\nexport const getSessionStorage = (key:string)=>{\r\n   return window.sessionStorage.getItem(key);\r\n};\r\nexport enum KEYS_STORAGE {\r\n    PROFIT = \"PROFIT\"\r\n}","export const URL_QUIZ = `https://my-json-server.typicode.com/sokolovalova/millionaire-questions-db/quiz`;\r\n\r\nexport enum CLASSES {\r\n    SELECTED = 'selected',\r\n    CORRECT = 'correct',\r\n    WRONG = 'wrong',\r\n    INACTIVE = 'inactive'\r\n}","import * as React from 'react';\r\nimport { Redirect, RouteChildrenProps } from 'react-router-dom';\r\nimport {App} from './App';\r\nimport {Quiz} from '../Quiz';\r\nimport {Results} from '../Results';\r\nimport {Start} from '../Start';\r\n\r\n\r\nexport interface Routes {\r\n    path: URL_ROUTES;\r\n    render: (props: RouteChildrenProps) => any,\r\n    title?: string;\r\n    exact?: boolean;\r\n    isHidden?: boolean;\r\n    isProtected?: boolean;\r\n}\r\n\r\nexport enum URL_ROUTES {\r\n    START = '/millionaire-quiz',\r\n    QUIZ = '/millionaire-quiz/quiz',\r\n    RESULTS = '/millionaire-quiz/results'\r\n}\r\n\r\nexport const ROUTES: Array<Routes> = [\r\n    {\r\n        path:URL_ROUTES.START,\r\n        render: (props: RouteChildrenProps) => <Start {...props} />,\r\n        title: 'Start',\r\n        exact:true\r\n    },\r\n    {\r\n        path:URL_ROUTES.QUIZ,\r\n        render: (props: RouteChildrenProps) => <Quiz {...props} />,\r\n        title: 'Quiz',\r\n        exact:true\r\n    },\r\n    {\r\n        path: URL_ROUTES.RESULTS,\r\n        exact: true,\r\n        render: (props: any) => <Results {...props} />,\r\n        title: 'Results',\r\n        isProtected: true\r\n    }\r\n\r\n]","import * as React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { createTrue, IndentStyle, textSpanIsEmpty } from 'typescript';\r\nimport { setToSessionStorage, KEYS_STORAGE, getSessionStorage } from '../../utils/storage';\r\nimport {CLASSES,URL_QUIZ } from './constants';\r\nimport './Quiz.css';\r\ninterface AppState {\r\n    quizData: Array<Object>;\r\n    numberOfQuestion: Number;\r\n    price: Array<Number>;\r\n    mistakes: Number;\r\n    letter: Array<String>;\r\n    answerClass: Array<CLASSES>;\r\n    showPriceList:Boolean\r\n}\r\ninterface AppProps { }\r\n\r\n\r\nexport class Quiz extends React.Component<AppProps, AppState> {\r\n\r\n    state = {\r\n        quizData: [],\r\n        numberOfQuestion: 0,\r\n        price: [500, 1000, 2000, 4000, 8000, 16000, 32000, 64000, 125000, 250000, 500000, 1000000],\r\n        letter: [\"A\", \"B\", \"C\", \"D\"],\r\n        mistakes: 0,\r\n        answerClass: [],\r\n        showPriceList:false\r\n    };\r\n\r\n    getInitialAnswerClass(): Array<CLASSES> {\r\n        let initialAnswerClass = [];\r\n        this.state.quizData[this.state.numberOfQuestion].answers.forEach(el => {\r\n            initialAnswerClass.push(CLASSES.INACTIVE);\r\n        });\r\n        return initialAnswerClass;\r\n    }\r\n\r\n    async setQuizDataToState(data) {\r\n        await this.setState({\r\n            quizData: data,\r\n            numberOfQuestion: 0\r\n        });\r\n        this.setState({ answerClass: this.getInitialAnswerClass() });\r\n    }\r\n    async fetchQuizData() {\r\n        const resp = await fetch(URL_QUIZ).then(resp => {\r\n            return resp.json()\r\n        }).then(resp => resp);\r\n        return resp;\r\n    }\r\n    goToResult() {\r\n        this.props[\"history\"].push('/millionaire-quiz/results');\r\n    }\r\n    nextQuestion() {\r\n        if (this.state.numberOfQuestion === this.state.quizData.length - 1)\r\n            this.goToResult();\r\n        else\r\n            this.setState({ numberOfQuestion: this.state.numberOfQuestion + 1 });\r\n    } \r\n    replaceClass(event, activeClass, newClass) {\r\n        event.classList.remove(activeClass);\r\n        event.classList.add(newClass);\r\n    }\r\n    getAnswerClassWithTrueAnswer(trueAnswer: IndentStyle) {\r\n        const { numberOfQuestion, quizData } = this.state;\r\n        let newAnswerClass = this.getInitialAnswerClass();\r\n        newAnswerClass[trueAnswer] = CLASSES.CORRECT;\r\n\r\n    }\r\n    async trueAnswer(e) {\r\n        const event = e.target;\r\n        this.replaceClass(event, CLASSES.INACTIVE, CLASSES.SELECTED);\r\n        const { numberOfQuestion, quizData } = this.state;\r\n        const trueAnswer = quizData[numberOfQuestion].true;\r\n        const newAnswerClass: any = this.getAnswerClassWithTrueAnswer(trueAnswer);\r\n        setTimeout(() => {\r\n            this.replaceClass(event, CLASSES.SELECTED, CLASSES.CORRECT);\r\n            setTimeout(() => {\r\n                const { mistakes, numberOfQuestion } = this.state;\r\n                this.replaceClass(event, CLASSES.CORRECT, CLASSES.INACTIVE);\r\n                console.log(event.classList);\r\n                //запоминаем выиграную сумму\r\n                setToSessionStorage(KEYS_STORAGE.PROFIT, this.state.price[numberOfQuestion - mistakes]);\r\n\r\n                this.nextQuestion();\r\n            }, 2000);\r\n        }, 1000);\r\n\r\n    }\r\n    async falseAnswer(e) {\r\n        const event = e.target;\r\n        this.replaceClass(event, CLASSES.INACTIVE, CLASSES.SELECTED);\r\n        setTimeout(() => {\r\n            this.replaceClass(event, CLASSES.SELECTED, CLASSES.WRONG);\r\n\r\n            setTimeout(() => {\r\n                this.replaceClass(event, CLASSES.WRONG, CLASSES.INACTIVE);\r\n                 this.setState({ mistakes: this.state.mistakes + 1 });\r\n                if (this.state.mistakes === 3) {\r\n                    setToSessionStorage(KEYS_STORAGE.PROFIT, 0);\r\n                    this.goToResult();\r\n                }\r\n                else {\r\n                    this.nextQuestion();\r\n                }\r\n            }, 2000);\r\n        }, 1000);\r\n    }\r\n    \r\n    checkActivePrice(price: Number) {\r\n        let wonPrice = Number(getSessionStorage(KEYS_STORAGE.PROFIT));\r\n        let classname = '';\r\n        if (price <= wonPrice) {\r\n            classname = \"won\";\r\n        } else if (this.state.price[this.state.price.indexOf(Number(price)) - 1] === wonPrice ||\r\n            price === this.state.price[0]) {\r\n            classname = \"active-price\";\r\n        }\r\n\r\n        return classname;\r\n    }\r\n\r\n    renderQuestion() {\r\n        if (this.state.quizData.length !== 0) {\r\n            const { numberOfQuestion, quizData } = this.state;\r\n\r\n            return (\r\n                <div className=\"question-conteiner\">\r\n                    <h3>{quizData[numberOfQuestion].question}</h3>\r\n                    <div className=\"answers\">\r\n\r\n                        {quizData[numberOfQuestion].answers.map((ans, i) => {\r\n                            return (\r\n                                <div className={`one-answer ${this.state.answerClass[i]}`} key={i} id={i} onClick={(e: any) => {\r\n                                    return (ans.mark ? this.trueAnswer(e) : this.falseAnswer(e));\r\n                                }}>\r\n                                    <p className=\"letter-choice\">{this.state.letter[i]}</p>\r\n                                    <p>{ans.text}</p>\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n    renderPriceListForMob=()=>{\r\n        console.log(this.state.showPriceList);\r\n        const isShow = !this.state.showPriceList;\r\n        this.setState({showPriceList:isShow});\r\n    }\r\n    async componentDidMount() {\r\n        const quizData = await this.fetchQuizData();\r\n        this.setQuizDataToState(quizData);\r\n        setToSessionStorage(KEYS_STORAGE.PROFIT, 0);\r\n    }\r\n   \r\n   \r\n    render() {\r\n        return (\r\n            <div className=\"quiz-conteiner\">\r\n                <div  className=\"header-burger\">\r\n                    <i onClick={this.renderPriceListForMob} className=\"fas fa-bars hedden\"></i>\r\n                </div>\r\n                {this.renderQuestion()}\r\n                <div className={`price-list-conteiner ${this.state.showPriceList?\"visible\":\"hidden\"}`} >\r\n                    <div className=\"price-list\">\r\n                        {this.state.price.map((price, i) => {\r\n                            return (\r\n                                <div className={`one-price ${this.checkActivePrice(price)}`} key={i * 100}>\r\n                                    <p>\r\n                                        {price}\r\n                                    </p>\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n","import * as React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { getSessionStorage, KEYS_STORAGE } from '../../utils/storage';\r\nimport { URL_ROUTES } from '../App/routes';\r\nimport './Results.css';\r\n\r\nexport class Results extends React.Component {\r\n\r\n\r\n    render() {\r\n        console.log(getSessionStorage(\"PROFIT\"));\r\n        return (\r\n            <div className=\"background-results\">\r\n\r\n                <div className=\"content-results\">\r\n                    <div >\r\n                        <img className=\"handImg\" src=\"https://hsto.org/webt/br/x-/f3/brx-f3_e1ajl1icshjfagettecy.png\" alt=\"\" />\r\n                    </div>\r\n                    <div className=\"total\">\r\n                        <h3 >\r\n                            Total score:\r\n                        </h3>\r\n                        <h2>\r\n                            {`$ ${getSessionStorage(KEYS_STORAGE.PROFIT)} earned`}\r\n                        </h2>\r\n                        <div className=\"btn-conteiner\">\r\n                        <Link className=\"again-btn\" to={URL_ROUTES.START}>Try again</Link>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n","import * as React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { URL_ROUTES } from '../App/routes';\r\nimport './Start.css';\r\nexport class Start extends React.Component {\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"background\">\r\n                <div className=\"content\">\r\n\r\n                    <div >\r\n                        <img className=\"handImg\" src=\"https://hsto.org/webt/br/x-/f3/brx-f3_e1ajl1icshjfagettecy.png\" alt=\"\" />\r\n                    </div>\r\n                    <div className=\"text\">\r\n                        <h1>\r\n                            Who wants to be a millionaire?\r\n                        </h1>\r\n                        <div className=\"btn-conteiner\">\r\n                        <Link className=\"start-btn\" to={URL_ROUTES.QUIZ}>Start</Link>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n","import * as React from 'react';\nimport {Route,Link, Switch,Redirect} from 'react-router-dom';\nimport './App.css';\nimport {ROUTES, URL_ROUTES,Routes} from './routes';\n\ninterface AppState{}\ninterface AppProps {}\n\nexport class App extends React.Component<AppProps, AppState>{\n\n  renderRoute = (oneRoute: Routes, i: number)=> {   \n      return <Route\n        key={i}\n        exact={oneRoute.exact}\n        path={oneRoute.path}\n        render={(props) => oneRoute.render({ ...props })} />\n   \n  }\n  render(){\n    return(\n      <Switch>\n        {ROUTES.map((render, i) =>this.renderRoute(render, i))}            \n         {/* <Redirect  to='/react-app-millionaire' /> */}\n      </Switch>\n      \n    );\n  } \n}\n\n\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\n\nimport { App } from './components/App';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\n\n\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.querySelector(\"#root\"));"],"sourceRoot":""}